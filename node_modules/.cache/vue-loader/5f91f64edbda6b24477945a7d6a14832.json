{"remainingRequest":"/home/madjid/Bureau/nodejs-uno-game/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/madjid/Bureau/nodejs-uno-game/src/UnoGame.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/madjid/Bureau/nodejs-uno-game/src/UnoGame.vue","mtime":1699356085724},{"path":"/home/madjid/Bureau/nodejs-uno-game/node_modules/cache-loader/dist/cjs.js","mtime":1699356179600},{"path":"/home/madjid/Bureau/nodejs-uno-game/node_modules/vue-loader/lib/index.js","mtime":1699356179232}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICAKICAgIGltcG9ydCBCb2FyZCBmcm9tICIuL2NvbXBvbmVudHMvQm9hcmQiCiAgICBpbXBvcnQgQ2FyZCBmcm9tICIuL2NvbXBvbmVudHMvQ2FyZCIgICAgCiAgICBpbXBvcnQgUG9wdXBSZWFkeSBmcm9tICIuL2NvbXBvbmVudHMvUG9wdXBSZWFkeSIgICAgCiAgICBpbXBvcnQgUG9wdXBXb24gZnJvbSAiLi9jb21wb25lbnRzL1BvcHVwV29uIiAgICAKICAgIGltcG9ydCBQb3B1cFNwZWNpYWwgZnJvbSAiLi9jb21wb25lbnRzL1BvcHVwU3BlY2lhbCIgICAgCiAgICBpbXBvcnQgUG9wdXBUYWtlIGZyb20gIi4vY29tcG9uZW50cy9Qb3B1cFRha2UiICAgCiAgICBpbXBvcnQgTmFtZVBsYXRlIGZyb20gIi4vY29tcG9uZW50cy9OYW1lUGxhdGUiICAgIAogICAgaW1wb3J0IFNjb3JlcyBmcm9tICIuL2NvbXBvbmVudHMvU2NvcmVzIgogICAgaW1wb3J0IEF1dGhvcml6ZSBmcm9tICIuL2NvbXBvbmVudHMvQXV0aG9yaXplIiAgIAoKICAgIGltcG9ydCB0ZXN0RGF0YU5ldyBmcm9tICIuLi9wdWJsaWMvdGVzdERhdGFOZXcuanNvbiIKCiAgICBpbXBvcnQgQ29uZmlnTWl4aW4gZnJvbSAiLi9taXhpbnMvQ29uZmlnIiAgIAogICAgaW1wb3J0IENsaWVudE1peGluIGZyb20gIi4vbWl4aW5zL0NsaWVudCIgICAKCiAgICBjb25zdCBPV05FUl9EUkFXX0RFQ0sgPSAiZHJhdyIKICAgIGNvbnN0IE9XTkVSX0RJU0NBUkRfREVDSyA9ICJkc2MiICAgIAoKICAgIGV4cG9ydCBkZWZhdWx0IHsKICAgICAgICBuYW1lOiAiVW5vR2FtZSIsCiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgc29ja2V0OiB7IHR5cGU6IE9iamVjdCB9LAogICAgICAgIH0sCiAgICAgICAgbWl4aW5zOiBbCiAgICAgICAgICAgIENvbmZpZ01peGluLCAKICAgICAgICAgICAgQ2xpZW50TWl4aW4KICAgICAgICBdLAogICAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAgICAgQm9hcmQsIAogICAgICAgICAgICBDYXJkLCAKICAgICAgICAgICAgQXV0aG9yaXplLCAKICAgICAgICAgICAgUG9wdXBSZWFkeSwgCiAgICAgICAgICAgIFBvcHVwV29uLAogICAgICAgICAgICBQb3B1cFNwZWNpYWwsCiAgICAgICAgICAgIFBvcHVwVGFrZSwKICAgICAgICAgICAgTmFtZVBsYXRlLAogICAgICAgICAgICBTY29yZXMKICAgICAgICB9LCAgICAgICAgICAgIAogICAgICAgIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgc3RhdGU6ewogICAgICAgICAgICAgICAgICAgIGNsaWVudHM6W10sCiAgICAgICAgICAgICAgICAgICAgZ2FtZTp7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRzOltdLAogICAgICAgICAgICAgICAgICAgICAgICBldmVudHM6W10KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjb21wdXRlZDp7CiAgICAgICAgICAgIG92ZXJsYXlWaXNpYmxlOmZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5jbGllbnQuY29kZSAKICAgICAgICAgICAgICAgICAgICAmJiAoKCF0aGlzLnN0YXRlLmdhbWUud2lubmVyICYmICF0aGlzLnN0YXRlLmdhbWUucmVhZHkpIAogICAgICAgICAgICAgICAgICAgIHx8IHRoaXMuc3RhdGUuZ2FtZS53aW5uZXIKICAgICAgICAgICAgICAgICAgICB8fCB0aGlzLmNvbmZpZy5zcGVjaWFsQ2FyZAogICAgICAgICAgICAgICAgICAgIHx8ICghdGhpcy5jb25maWcuc3BlY2lhbENhcmQgJiYgdGhpcy5zdGF0ZS5jbGllbnQudGFrZU9yTGVhdmUpCiAgICAgICAgICAgICAgICAgICAgKTsgCiAgICAgICAgICAgIH0gICAgICAgICAgICAKICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6eyAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICBwbGF5Q2FyZDpmdW5jdGlvbihjYXJkKXsKICAgICAgICAgICAgICAgIGlmKGNhcmQudHlwZSA9PT0gJ2tjJyB8fCBjYXJkLnR5cGUgPT09ICdrZycpewogICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLnNwZWNpYWxDYXJkID0gY2FyZDsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY2xpZW50LnR1cm4gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcmRTZXRPd25lcihjYXJkLCBPV05FUl9ESVNDQVJEX0RFQ0spOyAKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5zcGVjaWFsQ2FyZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ3BsYWNlJywgeydjbGllbnQnOiB0aGlzLnN0YXRlLmNsaWVudCwgY2FyZDpjYXJkfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBsYXlDYXJkU3BlY2lhbDpmdW5jdGlvbihjYXJkSWQsIHR5cGUpewogICAgICAgICAgICAgICAgbGV0IGNhcmQgPSB0aGlzLnN0YXRlLmdhbWUuY2FyZHMuZmluZChmdW5jdGlvbihlbGVtKXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5pZCA9PSBjYXJkSWQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBjYXJkICE9PSAndW5kZWZpbmVkJyl7CiAgICAgICAgICAgICAgICAgICAgY2FyZC50eXBlID0gdHlwZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXlDYXJkKGNhcmQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBwbGF5Q2FyZFRPTDpmdW5jdGlvbihjYXJkSWQpewogICAgICAgICAgICAgICAgbGV0IGNhcmQgPSB0aGlzLnN0YXRlLmdhbWUuY2FyZHMuZmluZChmdW5jdGlvbihlbGVtKXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5pZCA9PSBjYXJkSWQ7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBjYXJkICE9PSAndW5kZWZpbmVkJyl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5Q2FyZChjYXJkKTsKICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRha2VDYXJkOmZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5lbWl0KCd0YWtlJywgeydjbGllbnQnOiB0aGlzLnN0YXRlLmNsaWVudH0pOwogICAgICAgICAgICB9LCAgICAgICAgICAgIAogICAgICAgICAgICBjYXJkU2V0T3duZXI6ZnVuY3Rpb24oY2FyZCwgb3duZXIpewoKICAgICAgICAgICAgICAgIHN3aXRjaChvd25lcil7CiAgICAgICAgICAgICAgICAgICAgY2FzZSBPV05FUl9EUkFXX0RFQ0s6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvRHJhd0RlY2soY2FyZCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSBPV05FUl9ESVNDQVJEX0RFQ0s6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvRGlzY2FyZERlY2soY2FyZCk7ICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG9IYW5kKGNhcmQsIG93bmVyKTsgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJhbnNpdGlvblRvRHJhd0RlY2s6ZnVuY3Rpb24oY2FyZCl7CgogICAgICAgICAgICAgICAgY2FyZC5vd25lciA9IE9XTkVSX0RSQVdfREVDSzsKCiAgICAgICAgICAgICAgICBjYXJkLnRyYW5zZm9ybS54ID0gdGhpcy5jb25maWcuZHJhd1Bvcy54ICsgKDUgLSAoTWF0aC5yYW5kb20oKSoxMCkpOwogICAgICAgICAgICAgICAgY2FyZC50cmFuc2Zvcm0ueSA9IHRoaXMuY29uZmlnLmRyYXdQb3MueSArICg1IC0gKE1hdGgucmFuZG9tKCkqMTApKTsKICAgICAgICAgICAgICAgIGNhcmQudHJhbnNmb3JtLmFuZ2xlID0gKDUgLSAoTWF0aC5yYW5kb20oKSoxMCkpOwogICAgICAgICAgICAgICAgY2FyZC50cmFuc2Zvcm0ueiA9IDE1MCArIHBhcnNlSW50KGNhcmQubW92ZUlkKTsKICAgICAgICAgICAgICAgIGNhcmQudHJhbnNmb3JtLnNjYWxlID0gMTsKICAgICAgICAgICAgICAgIGNhcmQudHJhbnNmb3JtLmQgPSAwOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0cmFuc2l0aW9uVG9EaXNjYXJkRGVjazpmdW5jdGlvbihjYXJkKXsKCiAgICAgICAgICAgICAgICBjYXJkLm93bmVyID0gT1dORVJfRElTQ0FSRF9ERUNLOwoKICAgICAgICAgICAgICAgIGNhcmQudHJhbnNmb3JtLnggPSB0aGlzLmNvbmZpZy5kaXNjYXJkUG9zLnggKyAoMTAgLSAoTWF0aC5yYW5kb20oKSoyMCkpOwogICAgICAgICAgICAgICAgY2FyZC50cmFuc2Zvcm0ueSA9IHRoaXMuY29uZmlnLmRpc2NhcmRQb3MueSArICgxMCAtIChNYXRoLnJhbmRvbSgpKjIwKSk7CiAgICAgICAgICAgICAgICBjYXJkLnRyYW5zZm9ybS5hbmdsZSA9ICgxMCAtIChNYXRoLnJhbmRvbSgpKjIwKSk7CiAgICAgICAgICAgICAgICBjYXJkLnRyYW5zZm9ybS56ID0gMjAwOwogICAgICAgICAgICAgICAgY2FyZC50cmFuc2Zvcm0uc2NhbGUgPSAxOwogICAgICAgICAgICAgICAgY2FyZC50cmFuc2Zvcm0uZCA9IDAuNDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJhbnNpdGlvblRvSGFuZDpmdW5jdGlvbihjYXJkLCBvd25lcil7CiAgICAgICAgICAgICAgICBpZih0eXBlb2YgdGhpcy5jb25maWcucGxheWVyc1tvd25lcl0gIT09ICd1bmRlZmluZWQnKXsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBsZXQgY29uZmlnID0gdGhpcy5jb25maWcucGxheWVyc1tvd25lcl07CgogICAgICAgICAgICAgICAgICAgIGNhcmQub3duZXIgPSBvd25lcjsKCiAgICAgICAgICAgICAgICAgICAgY2FyZC50cmFuc2Zvcm0ueCA9IGNvbmZpZy54ICsgKDUgLSAoTWF0aC5yYW5kb20oKSoxMCkpOwogICAgICAgICAgICAgICAgICAgIGNhcmQudHJhbnNmb3JtLnkgPSBjb25maWcueSArICg1IC0gKE1hdGgucmFuZG9tKCkqMTApKTsKICAgICAgICAgICAgICAgICAgICBjYXJkLnRyYW5zZm9ybS56ID0gMzAwOwogICAgICAgICAgICAgICAgICAgIGNhcmQudHJhbnNmb3JtLmFuZ2xlID0gKDEwIC0gKE1hdGgucmFuZG9tKCkqMjApKTsKICAgICAgICAgICAgICAgICAgICBjYXJkLnRyYW5zZm9ybS5zY2FsZSA9IGNvbmZpZy5zY2FsZTsKICAgICAgICAgICAgICAgICAgICBjYXJkLnRyYW5zZm9ybS5kID0gMC4zOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBjYXJkT25DbGljazpmdW5jdGlvbihjYXJkKXsKCiAgICAgICAgICAgICAgICBpZihjYXJkLm93bmVyID09IE9XTkVSX0RSQVdfREVDSyAmJiBjYXJkLm5leHRNb3ZlVmFsaWQgJiYgdGhpcy5zdGF0ZS5jbGllbnQudHVybil7CgogICAgICAgICAgICAgICAgICAgIHRoaXMudGFrZUNhcmQoKTsKCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkU2V0T3duZXIoY2FyZCwgdGhpcy5zZWxmKTsKCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jbGllbnQudHVybiA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIH1lbHNlIGlmKGNhcmQub3duZXIgPT0gdGhpcy5zZWxmICYmIGNhcmQubmV4dE1vdmVWYWxpZCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5Q2FyZChjYXJkKTsgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBjYXJkVHJhbnNpdGlvbkZpbmlzaDpmdW5jdGlvbihjYXJkKXsKICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMuc3RhdGUuY2xpZW50cy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVIYW5kKHRoaXMuc3RhdGUuY2xpZW50c1tpXS5uYW1lKTsKICAgICAgICAgICAgICAgIH0gICAgCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGluaXREZWNrOmZ1bmN0aW9uKGRhdGEpeyAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmdhbWUuY2FyZHMgPSBkYXRhOwogICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy5zdGF0ZS5nYW1lLmNhcmRzLmxlbmd0aDsgaSsrKXsgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZFNldE93bmVyKHRoaXMuc3RhdGUuZ2FtZS5jYXJkc1tpXSwgdGhpcy5zdGF0ZS5nYW1lLmNhcmRzW2ldLm93bmVyKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdXBkYXRlSGFuZDpmdW5jdGlvbihwbGF5ZXIpewogICAgICAgICAgICAgICAgbGV0IGNsaWVudENhcmRzID0gW107CiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLnN0YXRlLmdhbWUuY2FyZHMubGVuZ3RoOyBpKyspewogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUuZ2FtZS5jYXJkc1tpXS5vd25lciA9PSBwbGF5ZXIpewogICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRDYXJkcy5wdXNoKHRoaXMuc3RhdGUuZ2FtZS5jYXJkc1tpXSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNsaWVudENhcmRzLnNvcnQoZnVuY3Rpb24oYSxiKXsKICAgICAgICAgICAgICAgICAgICBpZihhLnR5cGUgPCBiLnR5cGUpcmV0dXJuIC0xOwogICAgICAgICAgICAgICAgICAgIGlmKGEudHlwZSA+IGIudHlwZSlyZXR1cm4gMTsgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgbGV0IGNvbmZpZyA9IHRoaXMuY29uZmlnLnBsYXllcnNbcGxheWVyXTsKCiAgICAgICAgICAgICAgICBsZXQgc2NhbGUgPSAocGxheWVyID09PSB0aGlzLnNlbGYpPzEuMjp0aGlzLmNvbmZpZy5vcHBvbmVudENhcmRTY2FsZTsKCiAgICAgICAgICAgICAgICBsZXQgcGl2b3RTZXR0aW5nID0gKHBsYXllciA9PT0gdGhpcy5zZWxmKT80MDA6MjAwOwoKICAgICAgICAgICAgICAgIGxldCBhbmdsZVJhbmdlRGl2ID0gKHBsYXllciA9PT0gdGhpcy5zZWxmKT83Ojk7CiAgICAgICAgICAgICAgICBsZXQgbWF4QW5nbGUgPSAocGxheWVyID09PSB0aGlzLnNlbGYpPzUwOjM1OwoKICAgICAgICAgICAgICAgIGxldCBjYXJkc0NvdW50ID0gY2xpZW50Q2FyZHMubGVuZ3RoOwogICAgICAgICAgICAgICAgbGV0IGFuZ2xlUmFuZ2UgPSAoY2FyZHNDb3VudCAqIDMwKSAvIGFuZ2xlUmFuZ2VEaXY7CiAgICAgICAgICAgICAgICBhbmdsZVJhbmdlID0gTWF0aC5taW4oYW5nbGVSYW5nZSwgbWF4QW5nbGUpOwoKICAgICAgICAgICAgICAgIGxldCBhbmdsZU1pbiA9IC0oYW5nbGVSYW5nZSAvIDIpOwogICAgICAgICAgICAgICAgbGV0IGFuZ2xlTWF4ID0gKGFuZ2xlUmFuZ2UgLyAyKTsKICAgICAgICAgICAgICAgIGxldCBhbmdsZVN0ZXAgPSAoYW5nbGVNYXggLSBhbmdsZU1pbikgLyAoY2FyZHNDb3VudCAtIDEpOwogICAgICAgICAgICAgICAgbGV0IGFuZ2xlID0gYW5nbGVNaW47CgogICAgICAgICAgICAgICAgbGV0IHBvc1ogPSA1MDsKCiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxjbGllbnRDYXJkcy5sZW5ndGg7IGkrKyl7CgogICAgICAgICAgICAgICAgICAgIGxldCBjb3NpID0gKDEgLSBNYXRoLmNvcyhhbmdsZSAqIChNYXRoLlBJIC8gMTgwKSkpICogcGl2b3RTZXR0aW5nOwogICAgICAgICAgICAgICAgICAgIGxldCBzaW5pID0gKE1hdGguc2luKGFuZ2xlICogKE1hdGguUEkgLyAxODApKSkgKiBwaXZvdFNldHRpbmc7CgogICAgICAgICAgICAgICAgICAgIGNsaWVudENhcmRzW2ldLnRyYW5zZm9ybS5hbmdsZSA9IGFuZ2xlOwogICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBjb25maWcgIT09ICd1bmRlZmluZWQnKXsKICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50Q2FyZHNbaV0udHJhbnNmb3JtLnggPSBjb25maWcueCArIHNpbmk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudENhcmRzW2ldLnRyYW5zZm9ybS55ID0gY29uZmlnLnkgKyBjb3NpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjbGllbnRDYXJkc1tpXS50cmFuc2Zvcm0ueiA9IHBvc1o7CiAgICAgICAgICAgICAgICAgICAgY2xpZW50Q2FyZHNbaV0udHJhbnNmb3JtLnNjYWxlID0gc2NhbGU7CiAgICAgICAgICAgICAgICAgICAgY2xpZW50Q2FyZHNbaV0udHJhbnNmb3JtLmQgPSAwLjA1OwoKICAgICAgICAgICAgICAgICAgICBwb3NaKys7CiAgICAgICAgICAgICAgICAgICAgYW5nbGUgKz0gYW5nbGVTdGVwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB1cGRhdGVEaXNjYXJkRGVjazpmdW5jdGlvbigpewogICAgICAgICAgICAgICAgbGV0IGNsaWVudENhcmRzID0gW107CiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLnN0YXRlLmdhbWUuY2FyZHMubGVuZ3RoOyBpKyspewogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUuZ2FtZS5jYXJkc1tpXS5vd25lciA9PSBPV05FUl9ESVNDQVJEX0RFQ0spewogICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRDYXJkcy5wdXNoKHRoaXMuc3RhdGUuZ2FtZS5jYXJkc1tpXSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2xpZW50Q2FyZHMuc29ydChmdW5jdGlvbihhLGIpewogICAgICAgICAgICAgICAgICAgIGlmKHBhcnNlSW50KGEubW92ZUlkKSA8IHBhcnNlSW50KGIubW92ZUlkKSlyZXR1cm4gLTE7CiAgICAgICAgICAgICAgICAgICAgaWYocGFyc2VJbnQoYS5tb3ZlSWQpID4gcGFyc2VJbnQoYi5tb3ZlSWQpKXJldHVybiAxOyAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBsZXQgcG9zWiA9IDA7CiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxjbGllbnRDYXJkcy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgY2xpZW50Q2FyZHNbaV0udHJhbnNmb3JtLnogPSBwb3NaOwogICAgICAgICAgICAgICAgICAgIHBvc1orKzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgICAgICAgICAgICAKICAgICAgICAgICAgcHJvY2Vzc0V2ZW50czpmdW5jdGlvbigpewogICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy5zdGF0ZS5nYW1lLmV2ZW50cy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50ID0gdGhpcy5zdGF0ZS5nYW1lLmV2ZW50c1tpXTsKICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgdGhpcy5zdGF0ZS5nYW1lLmNhcmRzW2V2ZW50LmNhcmRJZF0gIT09ICd1bmRlZmluZWQnKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkU2V0T3duZXIodGhpcy5zdGF0ZS5nYW1lLmNhcmRzW2V2ZW50LmNhcmRJZF0sIGV2ZW50Lm5ld093bmVyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHVwZGF0ZVN0YXRlOmZ1bmN0aW9uKGNhcmRzKXsKICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpPHRoaXMuc3RhdGUuZ2FtZS5jYXJkcy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIGNhcmRzW2ldID09PSAndW5kZWZpbmVkJyljb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmdhbWUuY2FyZHNbaV0ubW92ZUlkID0gY2FyZHNbaV0ubW92ZUlkOyAgICAKCiAgICAgICAgICAgICAgICAgICAgaWYoY2FyZHNbaV0ub3duZXIgIT09IHRoaXMuc3RhdGUuZ2FtZS5jYXJkc1tpXS5vd25lcil7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZFNldE93bmVyKHRoaXMuc3RhdGUuZ2FtZS5jYXJkc1tpXSwgY2FyZHNbaV0ub3duZXIpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5nYW1lLmNhcmRzW2ldLm93bmVyID0gY2FyZHNbaV0ub3duZXI7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5nYW1lLmNhcmRzW2ldLnR5cGUgPSBjYXJkc1tpXS50eXBlOyAgICAKICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmdhbWUuY2FyZHNbaV0ubmV4dE1vdmVWYWxpZCA9IGNhcmRzW2ldLm5leHRNb3ZlVmFsaWQ7ICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2FtZVN0YXRlUmVzcG9uc2UocmVzcG9uc2UpewoKICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UpOwoKICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY2xpZW50ID0gcmVzcG9uc2UuY2xpZW50OwoKICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuY2xpZW50cyA9IHJlc3BvbnNlLmNsaWVudHM7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZ2FtZS5ldmVudHMgPSByZXNwb25zZS5nYW1lLmV2ZW50czsKICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZ2FtZS53aW5uZXIgPSByZXNwb25zZS5nYW1lLndpbm5lcjsKICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZ2FtZS5yZWFkeSA9IHJlc3BvbnNlLmdhbWUucmVhZHk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmKCF0aGlzLmNvbmZpZy5pbml0aWFsaXplZCAmJiByZXNwb25zZS5nYW1lLmNhcmRzLmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmluaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXREZWNrKHJlc3BvbnNlLmdhbWUuY2FyZHMpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmNvbmZpZy5pbml0aWFsaXplZCAmJiByZXNwb25zZS5nYW1lLmV2ZW50cy5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5jb25maWcucGxheWVyc0luaXRpYWxpemVkKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcucGxheWVyc0luaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0Q2xpZW50c0NvbmZpZyh0aGlzLnN0YXRlLmNsaWVudHMpOwogICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0V2ZW50cygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShyZXNwb25zZS5nYW1lLmNhcmRzKTsKICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRGlzY2FyZERlY2soKTsKICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIG1vdW50ZWQ6ZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdGhpcy5zb2NrZXQub24oJ3N0YXRlJywgdGhpcy5nYW1lU3RhdGVSZXNwb25zZSk7CgogICAgICAgICAgICAvL3RoaXMuZ2FtZVN0YXRlUmVzcG9uc2UodGVzdERhdGFOZXcpOwoKICAgICAgICB9LAogICAgICAgIGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24gKCkgewoKICAgICAgICB9CgogICAgfQo="},null]}